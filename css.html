<style>
  /* =========================================
     GIGA Game Standard Design System
     Theme: Modern Pop & Playful
     ========================================= */

  /* Google Fonts: Zen Maru Gothic (親しみやすい丸ゴシック) */
  @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500;700;900&display=swap');

  :root {
    /* カラーパレット */
    --font-main: 'Zen Maru Gothic', sans-serif;
    --color-primary: #1a73e8; /* Google Blue */
    --color-accent: #ffca28; /* Amber (楽しさ) */
    --color-bg: #fff9c4; /* Yellow 100 (背景) */
    --color-text: #37474f; /* 濃いグレー (文字) */
    
    /* プレイヤーカラー */
    --p1-color: #2979ff; /* 鮮やかな青 */
    --p2-color: #ff1744; /* 鮮やかな赤 */
    
    /* 盤面デザイン */
    --board-bg: #ffffff;
    --cell-bg: #f1f3f4;
    --cell-hover: #e3f2fd;
    --wall-color: #8d6e63; /* 木の質感を感じさせる茶色 */
    --wall-shadow: rgba(0,0,0,0.2);
  }

  body {
    font-family: var(--font-main);
    color: var(--color-text);
    /* GIGA標準背景パターン: ドット柄でノートのような親しみやすさを演出 */
    background-color: var(--color-bg);
    background-image: radial-gradient(#ffe082 20%, transparent 20%), radial-gradient(#ffe082 20%, transparent 20%);
    background-position: 0 0, 25px 25px;
    background-size: 50px 50px;
    
    /* iOSでのバウンススクロール防止 */
    overscroll-behavior: none; 
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* --- UIコンポーネント: ボタン --- */
  
  /* 押したくなる「ぷるん」としたボタン */
  .pop-btn {
    transition: transform 0.1s, box-shadow 0.1s;
    border-radius: 50rem; /* カプセル型 */
    font-weight: 700;
    border: none;
    letter-spacing: 0.05em;
    position: relative;
    overflow: hidden;
  }
  
  /* 押した瞬間のへこみアニメーション */
  .pop-btn:active {
    transform: scale(0.92) !important;
  }
  
  /* ホバー時の浮き上がりアニメーション */
  .pop-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 15px rgba(0,0,0,0.15) !important;
  }

  .btn-primary-pop {
    background-color: var(--color-primary);
    color: white;
  }
  
  .btn-accent-pop {
    background-color: var(--color-accent);
    color: #3e2723; /* 黄色背景なので文字は濃い茶色で見やすく */
  }

  /* --- ゲーム盤面 (Board) --- */

  /* カード風のコンテナ */
  .game-card {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 24px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.05);
    border: 4px solid #fff;
    padding: 20px;
    backdrop-filter: blur(5px);
  }

  /* 盤面グリッドエリア */
  #game-area {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    overflow: auto; /* 画面が小さい時用 */
  }

  #board {
    display: grid;
    background-color: var(--board-bg);
    padding: 10px;
    border-radius: 16px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
    position: relative;
    gap: 4px; /* マス目の間隔 */
    touch-action: manipulation; /* タッチ操作の最適化 */
  }

  /* マス目 (Cell) */
  .cell {
    background-color: var(--cell-bg);
    border-radius: 6px;
    position: relative;
    cursor: pointer;
    transition: background-color 0.2s;
  }
  
  .cell:hover {
    background-color: var(--cell-hover); /* ホバー時にうっすら青く */
  }

  /* --- プレイヤーコマ (Pawn) --- */
  .pawn {
    width: 70%;
    height: 70%;
    border-radius: 50%;
    position: absolute;
    top: 15%;
    left: 15%;
    z-index: 10;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* バネのような楽しい動き */
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
  }
  
  /* プレイヤー1 (青) */
  .pawn.p1 {
    background: radial-gradient(circle at 30% 30%, #64b5f6, var(--p1-color));
    border: 3px solid white;
  }
  
  /* プレイヤー2 (赤) */
  .pawn.p2 {
    background: radial-gradient(circle at 30% 30%, #ff8a80, var(--p2-color));
    border: 3px solid white;
  }

  /* 手番プレイヤーの強調表示（パルスアニメーション） */
  .active-turn-indicator {
    box-shadow: 0 0 0 4px var(--color-accent);
    animation: pulse 1.5s infinite;
  }

  @keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 202, 40, 0.7); }
    70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(255, 202, 40, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 202, 40, 0); }
  }

  /* 移動可能場所のハイライト（緑の丸） */
  .valid-move {
    background-color: rgba(76, 175, 80, 0.5);
    border-radius: 50%;
    width: 30%;
    height: 30%;
    position: absolute;
    top: 35%;
    left: 35%;
    pointer-events: none;
    animation: fadeIn 0.3s ease;
  }

  /* --- カベ (Wall) --- */
  .wall {
    position: absolute;
    background-color: var(--wall-color);
    border-radius: 4px;
    z-index: 20;
    box-shadow: 2px 2px 4px var(--wall-shadow);
    /* ストライプ模様で「柵」っぽさを演出 */
    background-image: repeating-linear-gradient(
      45deg,
      rgba(255,255,255,0.1),
      rgba(255,255,255,0.1) 5px,
      transparent 5px,
      transparent 10px
    );
  }

  /* カベ設置スロット (Wall Slot) */
  .wall-slot {
    position: absolute;
    z-index: 30; /* コマより手前 */
    transition: background-color 0.2s;
    cursor: pointer;
    border-radius: 2px;
  }

  /* カベ設置モード時のスロットハイライト */
  .wall-slot:hover {
    background-color: rgba(255, 202, 40, 0.8); /* Amber */
  }
  
  /* 設置済みカベがある場所は薄く赤くするなど */
  .wall-slot.invalid {
    cursor: not-allowed;
  }

  /* --- その他の調整 --- */
  
  /* ルビ（ふりがな） */
  ruby {
    ruby-position: over;
  }
  rt {
    font-size: 0.6em;
    color: #78909c; /* 少し薄くして読みやすく */
  }

  /* レスポンシブ対応: 小さい画面での微調整 */
  @media (max-width: 600px) {
    #board {
      gap: 2px;
      padding: 5px;
    }
    .cell {
      border-radius: 3px;
    }
    .game-card {
      padding: 10px;
    }
  }
</style>
