# **🚧 カベカベ合戦！〜道を切り拓け〜 (GAS版)**

GIGAスクール端末（Chromebook/iPad）で快適に動作する、教育用対戦パズルゲームです。

Google Apps Script (GAS) のウェブアプリとして動作するため、インストール不要でブラウザからすぐに遊べます。

## **🎮 ゲーム概要**

* **ジャンル**: 対戦型パズル（コリドール風）  
* **プレイ人数**: 2人（1台の端末をシェアして対戦）  
* **対象**: 小学生全学年  
* **特徴**:  
  * **ゼロ・ラグ**: 通信待ち時間なしでサクサク動く設計  
  * **教育的配慮**: 全ての漢字にふりがな（ルビ）付き  
  * **視覚的ルール**: 直感的にわかるルール説明機能

## **📂 ファイル構成**

このプロジェクトは以下の4つのファイルで構成されています。

1. Code.gs (サーバーサイドスクリプト)  
2. index.html (メイン画面)  
3. css.html (デザイン・スタイル)  
4. js.html (ゲームロジック)

## **🚀 導入手順 (デプロイガイド)**

### **手順1: プロジェクトの作成**

1. [Google Apps Script](https://script.google.com/) にアクセスします。  
2. 左上の **「新しいプロジェクト」** をクリックします。  
3. プロジェクト名（例: カベカベ合戦）を入力します。

### **手順2: ファイルの作成とコードの貼り付け**

デフォルトで コード.gs (または Code.gs) があるので、それに加えて HTMLファイルを作成します。

1. **Code.gs**  
   * 元からある myFunction 等をすべて消し、提供された Code.gs のコードを貼り付けます。  
2. **index.html**  
   * 「ファイル」の \+ ボタン \> 「HTML」を選択。  
   * ファイル名を index と入力。  
   * 提供された index.html のコードを貼り付けます。  
3. **css.html**  
   * 同様にHTMLファイルを作成し、ファイル名を css と入力。  
   * 提供された css.html のコードを貼り付けます。  
4. **js.html**  
   * 同様にHTMLファイルを作成し、ファイル名を js と入力。  
   * 提供された js.html のコードを貼り付けます。

**注意**: ファイル名に拡張子 (.html) を手動で入力する必要はありません。GASのエディタが自動で管理します。

### **手順3: ウェブアプリとして公開 (デプロイ)**

1. 画面右上の **「デプロイ」** ボタンをクリック \> **「新しいデプロイ」** を選択。  
2. 「種類の選択」の歯車アイコン ⚙️ をクリック \> **「ウェブアプリ」** を選択。  
3. 以下の設定を入力します。  
   * **説明**: v1 など（適当でOK）  
   * **次のユーザーとして実行**: **「自分」**  
   * **アクセスできるユーザー**:  
     * 学校全体で使う場合: **「\[ドメイン名\] 内の全員」**  
     * 広く公開する場合: **「全員」** (Googleアカウント不要でアクセス可能になります)  
4. **「デプロイ」** ボタンをクリック。  
5. 「アクセスを承認」などの画面が出たら、自分のアカウントを選択して許可します。  
6. 表示された **「ウェブアプリ URL」** をコピーします。

### **手順4: 児童・生徒への配布**

コピーしたURLを、ClassroomやQRコードなどで児童・生徒に共有してください。

iPadやChromebookでURLを開くだけで、アプリとして動作します。

## **🕹️ 遊び方**

1. **準備**: 2人ペアになり、1台のタブレットを机の真ん中に置きます。  
2. **チーム決め**: 「青チーム（右へ進む）」と「赤チーム（左へ進む）」を決めます。  
3. **アクション**: 自分の番が来たら、以下のどちらか1つを行います。  
   * 🏃 **歩く**: コマを1マス進める（上下左右）。  
   * 🚧 **カベ**: 相手のジャマをするためにカベを置く。  
4. **勝利条件**: 先に反対側の端っこにたどり着いたチームの勝ち！

## **⚠️ 注意事項**

* **カベのルール**: 相手がゴールできなくなるような「閉じ込め」配置はできません（システムが自動で判定してエラーを出します）。  
* **通信**: 初回の読み込み以外はオフラインに近い状態で動作しますが、完全にインターネットを切断するとリロード時に動かなくなります。

## **📜 ライセンス**

Copyright (c) 2026 GIGA Game Architect

MIT License 準拠
